var objGallery=new ProductGallery,Gallery=objGallery.init(),objRelated=new ProductRelated,Related=objRelated.init(),objAssortment=new CAssortment,Assortment=objAssortment.init(),objShare=new CShare,Share=objShare.init();function CAssortment(){var e={form:null,construct:function(){this.form=$(".product-form")},setup:function(){this.construct()}},t={parent:null,sizes:null,construct:function(){this.parent=window.Assortment,this.parent.construct()}},n={parent:null,form:null,hash:null,colors:null,labels:null,construct:function(){var e=this;e.form=$(".product-form"),e.colors=e.form.children(".select-color").find('input[type="radio"]'),e.labels=e.form.children(".select-color").find(".check-label")},setup:function(){var e=this;e.construct(),$(window).on("load hashchange",function(){e.checkHash()}),e.colors.on("change",function(){$(this).is(":checked")&&(e.setHash($(this).data("color-hex")),e.selectImage($(this).data("color-id")))}),e.labels.on("mouseenter",function(){var t=$(this).prev('input[type="radio"]');e.selectImage(t.data("color-id"))}).on("mouseleave",function(){e.unSelectImage()})},checkHash:function(){var e=this;e.hash=window.location.hash,e.hash.length&&e.selectColor(e.hash.substr(e.hash.indexOf("#")+1))},setHash:function(e){window.location.hash=e},selectColor:function(e){$.map(this.colors,function(t){var n=$(t).data("color-hex")==e;$(t).prop("checked",n).change()})},selectImage:function(e){if(!window.Gallery.instance.slides.length)return!1;for(var t in window.Gallery.instance.slides){var n=window.Gallery.instance.slides[t];$(n).data("color-id")==e&&window.Gallery.instance.slideTo(t,0)}return!0},unSelectImage:function(){return!!window.Gallery.instance.slides.length&&($.map(this.colors,function(e){if($(e).is(":checked")){var t=$(e).data("color-id");for(var n in window.Gallery.instance.slides){var i=window.Gallery.instance.slides[n];$(i).data("color-id")==t&&window.Gallery.instance.slideTo(n,0)}}}),!0)}};this.init=function(){return e},this.init_product=function(){return t},this.init_print=function(){return n}}function ProductRelated(){var e={nav:null,tabs:null,sliderParams:null,construct:function(){this.nav=$(".product-related").children(".slider-nav"),this.tabs=$(".product-related").children(".slider-tabs")},initialize:function(){var e=this;e.construct(),e.nav.on("click","a",function(){$(this).siblings("a").removeClass("selected"),$(this).addClass("selected");var t=$(this).data("index");e.toggleTab(t)}),e.toggleTab(0)},toggleTab:function(e){var t=this.tabs.children(".slider-tab").eq(e);t.siblings(".slider-tab").removeClass("selected"),t.addClass("selected");SwiperSlider.construct(t.children(".slider"),{freeMode:!0,autoHeight:!0,slidesPerView:5,preventClicks:!1,preventClicksPropagation:!1,spaceBetween:2,breakpoints:{1425:{slidesPerView:"4"},1130:{slidesPerView:"3"},960:{slidesPerView:"auto"}}})}};this.init=function(){return e}}function ProductGallery(){var e={thumbs:null,screen:null,screenParams:new Object,thumbsParams:new Object,switch:null,slider:null,slider2:null,slides:null,instance:null,instance2:null,construct:function(){var e=this;$(".product-gallery").length>0&&(e.switch=$(".product-gallery .switch"),e.thumbs=$(".product-gallery .thumbs"),e.screen=$(".product-gallery .screen"),e.screenParams={direction:"horizontal",slidesPerView:1,autoHeight:!1,slideToClickedSlide:!1},e.thumbsParams={direction:"horizontal",spaceBetween:11,slidesPerView:3,slideToClickedSlide:!1,autoHeight:!0},e.slider=e.screen.children(".swiper-container"),e.slider2=e.thumbs.children(".swiper-container"),e.slides=e.thumbs.find(".swiper-slide"),e.screen.find(".zoom-img").elevateZoom({zoomWindowOffety:-13,zoomWindowOffetx:80,zoomWindowWidth:735,zoomWindowHeight:591}))},initialize:function(){var e=this;e.construct(),e.instance=new Swiper(e.slider,e.screenParams),e.instance2=new Swiper(e.slider2,e.thumbsParams),e.slides.on("click",function(t){var n=$(this).index();$(this).siblings(".swiper-slide").removeClass("selected"),$(this).addClass("selected"),e.instance.slideTo(n),e.instance2.slideTo(n)}),e.instance.on("slideChange",function(){var t=this.activeIndex;e.slides.eq(t).trigger("click"),$.map(e.switch.find("a"),function(e){$(e).data("index")==t?$(e).addClass("selected"):$(e).removeClass("selected")})}),e.switch.on("click","a",function(){var t=$(this).data("index");e.instance.slideTo(t)})}};this.init=function(){return e}}$(window).on("load",function(){Related.initialize()}),$(function(){Gallery.initialize(),Assortment.setup(),$(".product-card").on("click",".switch-toggle",function(){$(this).toggleClass("toggle-on")}),Basket.onAdd=function(e){var t=$(".product-card-standart").find(".add-to-cart"),n=t.children(".cnt"),i=$('.product-card-standart .product-form .spin-edit input[type="text"]'),s=0;$.map(i,function(e){var t=$(e).data("idkey"),n=array_key_exists(t,Basket.items)?Basket.items[t]:0;$(e).val(n).change(),s+=parseInt(n)}),s?(t.addClass("in-cart").data("cnt",s),n.text(s).removeClass("hidden")):(t.removeClass("in-cart").data("cnt",s),n.text(s).addClass("hidden"))},Basket.onDelete=function(e){Basket.onAdd(e)},$(".product-card-standart").off("click",".add-to-cart"),$(".product-card-standart").on("click",".add-to-cart",function(e){e.stopPropagation(),$(this).hasClass("in-cart")?Basket.open():$(".product-card-standart .product-form .spin-edit").eq(0).children(".spin-up").trigger("click")}),$(".product-card-standart").on("click",".product-form .spin-edit .spin-btn",function(e){e.stopPropagation();var t=$(this),n=t.hasClass("spin-up"),i=(t.hasClass("spin-down"),t.siblings('input[type="text"]')),s=parseInt(i.val())||0,a=i.data("idkey"),r=Basket.isSetKey(a);(s=n?s+1:s-1)>0?Basket.add(a,s,r):Basket.del(a)})});